{% from "common/Button.html.jinja" import Button -%}

{% extends "layouts/auth.html.jinja" %}

{% block title %}Change your password{% endblock %}

{% block body %}
<form method="post" action="" class="w-full p-12 bg-white border border-gray-300 shadow-xl rounded-xl" id="passwordChangeForm" novalidate>
	<input type="hidden" name="_csrf_token" value="{{ req.csrf_token }}">

	<div class="mb-8 text-center">
		<h2 class="mt-6 text-3xl font-bold text-gray-900">
			Change your password
		</h2>
		<p class="mt-2 text-base text-gray-600">
			Your email is “<span class="font-bold text-italic">{{ req.user.login }}</span>”.
		</p>
	</div>

	<p class="block mb-4 text-sm text-center text-gray-500">
		Make sure it's at least {{ password_minlen }} characters long
	</p>

	<div class="mb-4">
		{{ form.password.as_input(
			aria_label="Password",
			value_index=0,
			type="password",
			classes="form-input w-full text-lg",
			error="border-red-500",
			placeholder="New password"
		) }}
	</div>

	<div class="mb-4">
		{{ form.password.as_input(
			aria_label="Confirm password",
			value_index=1,
			type="password",
			classes="form-input w-full text-lg",
			error="border-red-500",
			placeholder="Confirm your new password"
		) }}
		{{ form.password.render_error(classes="text-red-500 text-sm font-bold mb-3 mt-2") }}
	</div>

	<div class="mt-6">
		{{ Button("Save my password", class="w-full", type="submit") }}
	</div>
</form>
{% endblock %}
