{% extends 'layout.html.jinja' %}

{% block styles %}
<style>
table.routes {
	border: none;
	margin-top: 20px;
}
table.routes th,
table.routes td {
	vertical-align: middle;
}
table.routes div {
	padding: 1px 4px;
	min-height: 27px;
}
table.routes [role] {
	cursor: default;
}
table.routes tr.build-only {
	background-color: #eee;
	cursor: not-allowed;
}
</style>
{% endblock %}

{% block title %}{{ title }}{% endblock %}

{% block body %}
<h3>Routes</h3>
<p>Routes match in priority from top to bottom.<br>
Those that doesn't have a "<code>to</code>" property are build-only and never match.</p>

<div class="scroll-container">
	<table class="routes">
		<tr>
			<th></th>
			<th><div>PATH</div></th>
			<th><div>TO</div></th>
			<th><div>NAME</div></th>
			<th><div>DEFAULTS</div></th>
		</tr>
		{%- for route in routes %}
			{% if route.build_only -%}
				<tr class="build-only" title="Build-only">
			{%- else -%}
				<tr>
			{%- endif %}
			<td><div>{{ route.method or '—' }}</div></td>
			<td><div>{{ route.path }}</div></td>
			<td><div>
				{% if route.redirect %}<span role="image" title="redirect">↪️</span>{% endif %}
				{{ route.to or route.redirect or "-" }}
			</div></td>
			<td><div>{{ route.name or '—' }}</div></td>
			<td><div>{{ route.defaults or '—' }}</div></td>
		</tr>
		{%- endfor %}
	</table>
</div>
{% endblock %}
