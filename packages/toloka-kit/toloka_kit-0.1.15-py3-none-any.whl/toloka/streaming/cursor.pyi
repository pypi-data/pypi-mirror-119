__all__ = [
    'AssignmentCursor',
    'BaseCursor',
    'DATETIME_MIN',
    'TaskCursor',
    'TolokaClientSyncOrAsyncType',
    'UserBonusCursor',
    'UserSkillCursor',
]
from toloka.client import TolokaClient
from toloka.streaming.event import AssignmentEvent, BaseEvent, UserSkillEvent
from typing import (
    Any,
    Optional,
    TypeVar,
    Union,
    overload
)


class BaseCursor:
    def __init__(
        self,
        toloka_client: Union[TolokaClient, ...],
        request: TypeVar('RequestObjectType', bound=None)
    ) -> None:
        """Method generated by attrs for class BaseCursor.
        """
        ...

    toloka_client: Union[TolokaClient, ...]
    _request: TypeVar('RequestObjectType', bound=None)
    _prev_response: Optional[TypeVar('ResponseObjectType', bound=None)]


@overload
def AssignmentCursor(
    toloka_client: Union[TolokaClient, ...],
    event_type: AssignmentEvent.Type,
    request: dict = ...
) -> None:
    """Iterator over Assignment objects of seleted AssignmentEventType.

    Args:
        toloka_client: TolokaClient object that is being used to search assignments.
        request: Base request to search assignments by.
        event_type: Assignments event's type to search.

    Examples:
        Iterate over assignment acceptances events.

        >>> it = AssignmentCursor(pool_id='123', event_type='ACCEPTED', toloka_client=toloka_client)
        >>> current_events = list(it)
        >>> # ... new events may occur ...
        >>> new_events = list(it)  # Contains only new events, occured since the previous call.
        ...
    """
    ...


@overload
def AssignmentCursor(
    toloka_client: Union[TolokaClient, ...],
    event_type: AssignmentEvent.Type,
    *args,
    **kwargs
) -> None:
    """Iterator over Assignment objects of seleted AssignmentEventType.

    Args:
        toloka_client: TolokaClient object that is being used to search assignments.
        request: Base request to search assignments by.
        event_type: Assignments event's type to search.

    Examples:
        Iterate over assignment acceptances events.

        >>> it = AssignmentCursor(pool_id='123', event_type='ACCEPTED', toloka_client=toloka_client)
        >>> current_events = list(it)
        >>> # ... new events may occur ...
        >>> new_events = list(it)  # Contains only new events, occured since the previous call.
        ...
    """
    ...


@overload
def TaskCursor(toloka_client: Union[TolokaClient, ...], request: dict = ...) -> None:
    """Iterator over tasks by create time.

    Args:
        toloka_client: TolokaClient object that is being used to search tasks.
        request: Base request to search tasks by.

    Examples:
        Iterate over tasks.

        >>> it = TaskCursor(pool_id='123', toloka_client=toloka_client)
        >>> current_tasks = list(it)
        >>> # ... new tasks could appear ...
        >>> new_tasks = list(it)  # Contains only new tasks, appeared since the previous call.
        ...
    """
    ...


@overload
def TaskCursor(
    toloka_client: Union[TolokaClient, ...],
    *args,
    **kwargs
) -> None:
    """Iterator over tasks by create time.

    Args:
        toloka_client: TolokaClient object that is being used to search tasks.
        request: Base request to search tasks by.

    Examples:
        Iterate over tasks.

        >>> it = TaskCursor(pool_id='123', toloka_client=toloka_client)
        >>> current_tasks = list(it)
        >>> # ... new tasks could appear ...
        >>> new_tasks = list(it)  # Contains only new tasks, appeared since the previous call.
        ...
    """
    ...


@overload
def UserBonusCursor(toloka_client: Union[TolokaClient, ...], request: dict = ...) -> None:
    """Iterator over user bonuses by create time.

    Args:
        toloka_client: TolokaClient object that is being used to search user bonuses.
        request: Base request to search user bonuses by.

    Examples:
        Iterate over user bonuses.

        >>> it = UserBonusCursor(toloka_client=toloka_client)
        >>> current_bonuses = list(it)
        >>> # ... new user bonuses could appear ...
        >>> new_bonuses = list(it)  # Contains only new user bonuses, appeared since the previous call.
        ...
    """
    ...


@overload
def UserBonusCursor(
    toloka_client: Union[TolokaClient, ...],
    *args,
    **kwargs
) -> None:
    """Iterator over user bonuses by create time.

    Args:
        toloka_client: TolokaClient object that is being used to search user bonuses.
        request: Base request to search user bonuses by.

    Examples:
        Iterate over user bonuses.

        >>> it = UserBonusCursor(toloka_client=toloka_client)
        >>> current_bonuses = list(it)
        >>> # ... new user bonuses could appear ...
        >>> new_bonuses = list(it)  # Contains only new user bonuses, appeared since the previous call.
        ...
    """
    ...


@overload
def UserSkillCursor(
    toloka_client: Union[TolokaClient, ...],
    event_type: UserSkillEvent.Type,
    request: dict = ...
) -> None:
    """Iterator over UserSkillEvent objects of seleted event_type.

    Args:
        toloka_client: TolokaClient object that is being used to search user skills.
        request: Base request to search user skills by.
        event_type: User skill event's type to search.

    Examples:
        Iterate over user skills acceptances events.

        >>> it = UserSkillCursor(event_type='MODIFIED', toloka_client=toloka_client)
        >>> current_events = list(it)
        >>> # ... new user skills could be set ...
        >>> new_events = list(it)  # Contains only new events, occured since the previous call.
        ...
    """
    ...


@overload
def UserSkillCursor(
    toloka_client: Union[TolokaClient, ...],
    event_type: UserSkillEvent.Type,
    *args,
    **kwargs
) -> None:
    """Iterator over UserSkillEvent objects of seleted event_type.

    Args:
        toloka_client: TolokaClient object that is being used to search user skills.
        request: Base request to search user skills by.
        event_type: User skill event's type to search.

    Examples:
        Iterate over user skills acceptances events.

        >>> it = UserSkillCursor(event_type='MODIFIED', toloka_client=toloka_client)
        >>> current_events = list(it)
        >>> # ... new user skills could be set ...
        >>> new_events = list(it)  # Contains only new events, occured since the previous call.
        ...
    """
    ...
