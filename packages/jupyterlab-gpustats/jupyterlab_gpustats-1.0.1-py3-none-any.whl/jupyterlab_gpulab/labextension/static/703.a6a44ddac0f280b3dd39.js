(self.webpackChunkjupyterlab_gpustats=self.webpackChunkjupyterlab_gpustats||[]).push([[703],{703:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var o=t(520),n=t(532),d=t(629),r=t(683),l=t(878),p=t(510);const c={id:"jupyterlab-gpustats",autoStart:!0,requires:[l.ITopBar,o.ICommandPalette,n.IMainMenu],activate:async(e,a,t,n)=>{console.log("JupyterLab extension server-extension-example is activated!"),document.title="gpustats | JupyterLab Environment";const l=new o.Toolbar;l.id="gpustats-header",l.addClass("jp-gpustats-header");const c=new p.Widget;c.id="gpustats-logo",c.addClass("jp-gpustats-logo"),l.addItem("logo",c),l.addItem("spcaer",o.Toolbar.createSpacerItem()),e.shell.add(l,"header",void 0);const{commands:u}=e,g="gpustats:launch_portal",m="gpustats:launch_blog",b="gpustats:launch_faq",s="gpustats:launch_contact",i="gpustats:twitter",w="gpustats:github";u.addCommand(g,{label:"gpustats Account Portal",caption:"Open the gpustats portal.",execute:e=>{window.open("https://portal.gpustats.io","gpustats-external")}}),u.addCommand(m,{label:"gpustats Blog",caption:"Open the gpustats blog/",execute:e=>{window.open("https://gpustats.io/blog/","gpustats-external")}}),u.addCommand(b,{label:"gpustats FAQ",caption:"Open the gpustats FAQ page.",execute:e=>{window.open("https://gpustats.io/faq/","gpustats-external")}}),u.addCommand(s,{label:"gpustats Contact",caption:"Open the gpustats contact page.",execute:e=>{window.open("https://gpustats.io/blog/","gpustats-external")}}),u.addCommand(i,{label:"gpustats Twitter",caption:"Follow gpustats on Twitter.",execute:e=>{window.open("https://twitter.com/gpustatsio","gpustats-external")}}),u.addCommand(w,{label:"gpustats GitHub",caption:"gpustats GitHub repository.",execute:e=>{window.open("https://github.com/gpustats","gpustats-external")}});const h="gpustats";t.addItem({command:g,category:h,args:{}}),t.addItem({command:m,category:h,args:{}}),t.addItem({command:b,category:h,args:{}}),t.addItem({command:s,category:h,args:{}});const x=new p.Menu({commands:u});x.title.label="gpustats",n.addMenu(x,{rank:1e3}),x.addItem({command:g,args:{}}),x.addItem({command:m,args:{}}),x.addItem({command:b,args:{}}),x.addItem({command:s,args:{}}),x.addItem({command:i,args:{}}),x.addItem({command:w,args:{}});const I=new p.Widget,U=new p.Widget,C=new p.Widget;function G(){(async function(e="",a={}){const t=r.ServerConnection.makeSettings(),o=d.URLExt.join(t.baseUrl,"jupyterlab-gpustats",e);let n;try{n=await r.ServerConnection.makeRequest(o,a,t)}catch(e){throw new r.ServerConnection.NetworkError(e)}const l=await n.json();if(!n.ok)throw new r.ServerConnection.ResponseError(n,l.message);return l})("metrics").then((e=>{I.node.textContent="GPU: "+e.gpu["utilization.gpu"]+"%",U.node.textContent="GPU Mem: "+e.gpu["memory.used"]+" of "+e.gpu["memory.total"]+"MB",C.node.textContent="Storage Used "+e.storage.used+" / "+e.storage.free+" Free"})).catch((e=>{console.error(`The jupyterlab_gpustats_service_info server extension appears to be missing.\n${e}`)}))}G(),a.addItem("storage",C),a.addItem("gpu_mem",U),a.addItem("gpu_utl",I),setInterval(G,5e3)}}}}]);