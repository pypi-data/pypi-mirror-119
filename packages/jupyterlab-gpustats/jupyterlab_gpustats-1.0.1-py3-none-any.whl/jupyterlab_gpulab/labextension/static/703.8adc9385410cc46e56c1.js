(self.webpackChunkjupyterlab_gpustats=self.webpackChunkjupyterlab_gpustats||[]).push([[703],{703:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var n=t(520),o=t(532),r=t(629),d=t(683),l=t(878),p=t(510);const c={id:"jupyterlab-gpustats",autoStart:!0,requires:[l.ITopBar,n.ICommandPalette,o.IMainMenu],activate:async(e,a,t,n)=>{console.log("JupyterLab extension server-extension-example is activated!");const{commands:o}=e,l="gpustats:launch_portal",c="gpustats:launch_blog",u="gpustats:launch_faq",m="gpustats:launch_contact",g="gpustats:twitter",s="gpustats:github";o.addCommand(l,{label:"Account Portal",caption:"Open the gpustats portal.",execute:e=>{window.open("https://portal.gpustats.io","gpustats-external")}}),o.addCommand(c,{label:"Blog",caption:"Open the gpustats blog/",execute:e=>{window.open("https://gpustats.io/blog/","gpustats-external")}}),o.addCommand(u,{label:"FAQ",caption:"Open the gpustats FAQ page.",execute:e=>{window.open("https://gpustats.io/faq/","gpustats-external")}}),o.addCommand(m,{label:"Contact",caption:"Open the gpustats contact page.",execute:e=>{window.open("https://gpustats.io/blog/","gpustats-external")}}),o.addCommand(g,{label:"Twitter",caption:"Follow gpustats on Twitter.",execute:e=>{window.open("https://twitter.com/gpustatsio","gpustats-external")}}),o.addCommand(s,{label:"GitHub",caption:"gpustats GitHub repository.",execute:e=>{window.open("https://github.com/gpustats","gpustats-external")}});const i="gpustats";t.addItem({command:l,category:i,args:{}}),t.addItem({command:c,category:i,args:{}}),t.addItem({command:u,category:i,args:{}}),t.addItem({command:m,category:i,args:{}});const b=new p.Menu({commands:o});b.title.label="gpustats",n.addMenu(b,{rank:1e3}),b.addItem({command:l,args:{}}),b.addItem({command:c,args:{}}),b.addItem({command:u,args:{}}),b.addItem({command:m,args:{}}),b.addItem({command:g,args:{}}),b.addItem({command:s,args:{}});const w=new p.Widget,h=new p.Widget,x=new p.Widget;function C(){(async function(e="",a={}){const t=d.ServerConnection.makeSettings(),n=r.URLExt.join(t.baseUrl,"jupyterlab-gpustats",e);let o;try{o=await d.ServerConnection.makeRequest(n,a,t)}catch(e){throw new d.ServerConnection.NetworkError(e)}const l=await o.json();if(!o.ok)throw new d.ServerConnection.ResponseError(o,l.message);return l})("metrics").then((e=>{w.node.textContent="GPU: "+e.gpu["utilization.gpu"]+"%",h.node.textContent="GPU Mem: "+e.gpu["memory.used"]+" of "+e.gpu["memory.total"]+"MB",x.node.textContent="Storage Used "+e.storage.used+" / "+e.storage.free+" free"})).catch((e=>{console.error(`The jupyterlab_gpustats_service_info server extension appears to be missing.\n${e}`)}))}C(),a.addItem("storage",x),a.addItem("gpu_mem",h),a.addItem("gpu_utl",w),setInterval(C,5e3)}}}}]);